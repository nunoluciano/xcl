<div class="adminnavi">
  <a href="./index.php"><{$smarty.const._MI_LEGACY_NAME}></a>
  &raquo;&raquo; <a href="./index.php?action=ModuleList"><{$smarty.const._MI_LEGACY_MENU_MODULELIST}></a>
  &raquo;&raquo; <span class="adminnaviTitle"><{$smarty.const._AD_LEGACY_LANG_MODUPDATE_CONF}></span>
</div>


<div class="ui-card-main">
<{$smarty.template}>


<h2 class="admintitle"><{$smarty.const._AD_LEGACY_LANG_MODUPDATE_CONF}></h2>

<div class="confirm"><{$smarty.const._AD_LEGACY_LANG_MODUPDATE_ADVICE|replace:"_%s_":$module->getShow('name')}></div>

<{if $isPhasedMode}>
  <div class="tips">
    <{$smarty.const._AD_LEGACY_TIPS_PHASED_UPGRADE_MODE}>
  </div>
<{/if}>

<{if $actionForm->hasError()}>
<div class="error">
  <ul>
    <{foreach item=message from=$actionForm->getErrorMessages()}>
      <li><{$message|xoops_escape}></li>
    <{/foreach}>
  </ul>
</div>
<{/if}>

<form method="post" action="">
<{xoops_token form=$actionForm}>
<{xoops_input type=hidden name=dirname value=$module->get('dirname')}>

<table class="outer">
  <!-- <tr>
    <th colspan="2"><{$smarty.const._AD_LEGACY_LANG_MODUPDATE_CONF}></th>
  </tr> -->

  <tr>
    <td class="head ui-module-image" width="240" colspan="2">
      <div style="max-width: 80%;"><img class="svg" src="<{$xoops_url}>/modules/<{$module->getShow('dirname')}>/<{$module->modinfo.image}>" title="<{$module->getShow('name')}>" /></div>
      <!-- <div class="legacy_list_imagetitle"><{$module->modinfo.name|xoops_escape}></div> -->
    </td>
  <!-- <td class="head"></td> -->
  </tr>
  <tr>
	<td class="head"><{$smarty.const._AD_LEGACY_LANG_MOD_NAME}></td>
  <td class="<{cycle values='odd,even'}>"><{$module->getShow('name')}></td>
  </tr>

  <tr>
	<td class="head"><{$smarty.const._AD_LEGACY_LANG_MOD_DIR_NAME}></td>
	<td class="<{cycle values='odd,even'}>"><{$module->getShow('dirname')}></td>
  </tr>

  <tr>
	<td class="head"><{$smarty.const._AD_LEGACY_LANG_VERSION}></td>
	<td class="<{cycle values='odd,even'}>"><{$currentVersion|string_format:"%01.2f"}>
	<{if $currentVersion != $targetVersion}>
	  &raquo; <span class="ui-module-update-now"><{$targetVersion|string_format:"%01.2f"}></span>
	  <{if $isPhasedMode}>(Phased Mode)<{/if}>
	<{/if}>
	</td>
  </tr>

  <tr>
	<td class="head"><{$smarty.const._AD_LEGACY_LANG_MOD_MID}></td>
	<td class="<{cycle values='odd,even'}>">
	  <{if $module->get('mid')}>
	    <{$module->getShow('mid')}>
	  <{else}>
	    --
	  <{/if}>
	</td>
  </tr>

  <tr>
	<td class="head"><{$smarty.const._AD_LEGACY_LANG_LASTUPDATE}></td>
	<td class="<{cycle values='odd,even'}>">
	  <{if $module->get('last_update')}>
        <{$module->get('last_update')|xoops_formattimestamp:l}>
      <{else}>
        --
      <{/if}>
    </td>
  </tr>

  <tr>
	<td class="head"><{$smarty.const._AD_LEGACY_LANG_MOD_DESC}></td>
	<td class="<{cycle values='odd,even'}>"><{$module->modinfo.description|xoops_escape}></td>
  </tr>

  <tr>
    <td class="foot" colspan="2">
      <input class="formButton" type="submit" value="<{$smarty.const._AD_LEGACY_LANG_UPDATE}>" />
      <input class="formButton" type="submit" value="<{$smarty.const._BACK}>" name="_form_control_cancel" />
    </td>
  </tr>

</table>

</form>

</div><{* ui-card-main *}>
